<ion-header class="requisicao-header">
    <ion-navbar>
        <ion-grid>
            <ion-row>
                <ion-col col-12>
                    <div class="title-header">
                        <div class="title-text">
                            <span>Requisição de Serviço</span>
                        </div>
                    </div>
                </ion-col>
            </ion-row>
        </ion-grid>
    </ion-navbar>
</ion-header>

<ion-content class="requisicao-content" has-header white-background>

    <div padding>
        <form name="dadosServicoForm">
            <ion-grid>
                <ion-row>
                    <ion-col col-12>
                        <ion-item>
                            <ion-label stacked>Descrição</ion-label>
                            <ion-input type="text" name="descricao" placeholder="Informe a descrição do serviço"
                                [(ngModel)]="dados_servico.descricao"></ion-input>
                        </ion-item>
                    </ion-col>
                </ion-row>
              <ion-row>
                <ion-col col-12>
                  <ion-item>
                    <span class="label label-md" style="color: #0090d0; font-size: 17px; display: block;">Adicione fotos sobre o problema:</span>
                    <button type="button" class="confirmar" ion-button color="blue" round small (click)="chamaPageImage()">
                      <ion-icon ios="ios-add" md="md-add"></ion-icon>Inserir Anexos
                    </button>
                  </ion-item>
                </ion-col>
              </ion-row>
                <ion-row>
                    <ion-col col-12>
                        <ion-item>
                            <ion-label stacked>Tipo do Serviço: </ion-label>
                            <ion-select name="specs" placeholder="Selecione um tipo de serviço" [(ngModel)]="dados_servico.tipo">
                                <ion-option *ngFor="let especialidade of especialidades">{{especialidade}}</ion-option>
                            </ion-select>
                        </ion-item>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col col-12>
                        <ion-item>
                            <ion-label stacked>Data do Serviço:</ion-label>
                            <ion-datetime displayFormat="DD MMM YYYY" monthShortNames='Jan, Fev, Mar, Abr, Mai, Jun, Jul, Ago, Set, Out, Nov, Dez' doneText="Ok" cancelText="Cancelar"
                            placeholder="Informe a data do início do serviço"
                                name="data" [min]="minData" [max]="maxData" [(ngModel)]="dados_servico.data"></ion-datetime>
                        </ion-item>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col col-12>
                        <ion-item>
                            <ion-label stacked>Horário do Serviço:</ion-label>
                            <ion-datetime displayFormat="HH:mm " pickerFormat="HH mm" min="07:00" max="20:00" doneText="Ok" cancelText="Cancelar" placeholder="Informe o horário do início do serviço" name="horario" [(ngModel)]="dados_servico.horario"></ion-datetime>
                        </ion-item>
                    </ion-col>
                </ion-row>
                <ion-row></ion-row>
                <ion-row>
                    <ion-col col-12>
                        <ion-item>
                            <ion-label stacked>Endereço:</ion-label>
                            <ion-input id="loc-input" type="text" name="endereco" [disabled]="true" [(ngModel)]="dados_servico.endereco.nome"></ion-input>
                        </ion-item>
                    </ion-col>
                </ion-row>
              <ion-row>
                <ion-col col-12>
                  <ion-item>
                    <ion-label stacked>Ponto de Referência:</ion-label>
                    <ion-input type="text" name="pontoReferencia" placeholder="Locais próximos"
                               [(ngModel)]="dados_servico.endereco.pontoReferencia"></ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>
                <ion-row justify-content-center align-items-center>
                    <div id="infowindow-content">
                        <span id="place-name"  class="title"></span><br>
                        <span id="place-address"></span>
                    </div>
                    <div id="map_canvas"></div>
                </ion-row>
                <hr />
                <ion-row>
                    <ion-col col-12>
                        <button class="confirmar" ion-button round full color="blue" (click)="cadastrar(dados_servico)"
                            [disabled]="!isEnabled()">
                            <ion-icon ios="ios-checkmark" md="md-checkmark"></ion-icon>Confirmar Requisição
                        </button>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </form>
    </div>
</ion-content>
