<ion-header class="requisicao-header">
    <ion-navbar>
        <ion-grid>
            <ion-row>
                <ion-col col-12>
                    <div class="title-header">
                        <div class="title-text">
                            <span>Requisição de Serviço</span>
                        </div>
                    </div>
                </ion-col>
            </ion-row>
        </ion-grid>
    </ion-navbar>
</ion-header>

<ion-content class="requisicao-content">
    <ion-avatar item-start>
        <ion-card-content>
            <ion-thumbnail item-start>
                <ion-row>
                    <ion-col col-12>
                        <ion-icon ios="ios-construct" md="md-construct"></ion-icon>
                    </ion-col>
                </ion-row>
            </ion-thumbnail>
        </ion-card-content>
    </ion-avatar>
    <div padding>
        <form name="dadosServicoForm">
            <ion-grid>
                <ion-row>
                    <ion-col col-12>
                        <ion-item>
                            <ion-label stacked>Descrição</ion-label>
                            <ion-input type="text" name="descricao" placeholder="Informe a descrição do serviço"
                                [(ngModel)]="dados_servico.descricao"></ion-input>
                        </ion-item>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col col-12>
                        <ion-item>
                            <ion-label stacked>Tipo do Serviço: </ion-label>
                            <ion-select name="specs" placeholder="Selecione um tipo de serviço" [(ngModel)]="dados_servico.tipo">
                                <ion-option *ngFor="let especialidade of especialidades">{{especialidade}}</ion-option>
                            </ion-select>
                        </ion-item>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col col-12>
                        <ion-item>
                            <ion-label stacked>Data do Serviço:</ion-label>
                            <ion-datetime displayFormat="DD MMM YYYY" monthShortNames='Jan, Fev, Mar, Abr, Mai, Jun, Jul, Ago, Set, Out, Nov, Dez' doneText="Ok" cancelText="Cancelar"
                            placeholder="Informe a data do início do serviço"
                                name="data" [min]="minData" [max]="maxData" [(ngModel)]="dados_servico.data"></ion-datetime>
                        </ion-item>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col col-12>
                        <ion-item>
                            <ion-label stacked>Horário do Serviço:</ion-label>
                            <ion-datetime displayFormat="HH:mm " pickerFormat="HH mm" min="07:00" max="20:00" doneText="Ok" cancelText="Cancelar" placeholder="Informe o horário do início do serviço" name="horario" [(ngModel)]="dados_servico.horario"></ion-datetime>
                        </ion-item>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col col-12>
                        <ion-item>
                            <ion-label stacked>Valor do Serviço (R$):</ion-label>
                            <ion-input placeholder="Informe o valor do serviço" type="tel" required="required"
                                maxlength="25" pattern="([0-9]{1,3}\.)?[0-9]{1,3},[0-9]{2}$" name="valorservico"
                                [(ngModel)]="dados_servico.valor"></ion-input>
                        </ion-item>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col col-12>
                        <ion-item>
                            <ion-label stacked>Bairro</ion-label>
                            <ion-input type="text" name="bairro" placeholder="Informe a rua onde ocorrerá o serviço"
                                pattern=".{5,}" [(ngModel)]="dados_servico.endereco.bairro"></ion-input>
                        </ion-item>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col col-12>
                        <ion-item>
                            <ion-label stacked>Rua</ion-label>
                            <ion-input type="text" name="rua" placeholder="Informe a rua onde ocorrerá o serviço"
                                pattern=".{5,}" [(ngModel)]="dados_servico.endereco.rua"></ion-input>
                        </ion-item>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col col-12>
                        <ion-item>
                            <ion-label stacked>Número</ion-label>
                            <ion-input type="number" name="numero" placeholder="Informe o número da residência onde ocorrerá o serviço"
                                pattern="([0-9]{2,})" min="000" [(ngModel)]="dados_servico.endereco.numero"></ion-input>
                        </ion-item>
                    </ion-col>
                </ion-row>
                <hr />
                <ion-row>
                    <ion-col col-12>
                        <button class="confirmar" ion-button round full color="pink" (click)="cadastrar(dados_servico)"
                            [disabled]="!isEnabled()">
                            <ion-icon ios="ios-checkmark" md="md-checkmark"></ion-icon>Confirmar Requisição
                        </button>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </form>
    </div>
</ion-content>